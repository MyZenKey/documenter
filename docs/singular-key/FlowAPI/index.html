<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/documenter/blog/rss.xml" title="ZenKey Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documenter/blog/atom.xml" title="ZenKey Docs Blog Atom Feed"><title data-react-helmet="true">Singular Key Flow Integration via API | ZenKey Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://myzenkey.github.io/documenter//documenter/docs/singular-key/FlowAPI"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Singular Key Flow Integration via API | ZenKey Docs"><meta data-react-helmet="true" name="description" content="Getting Started"><meta data-react-helmet="true" property="og:description" content="Getting Started"><link data-react-helmet="true" rel="shortcut icon" href="/documenter/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://myzenkey.github.io/documenter//documenter/docs/singular-key/FlowAPI"><link data-react-helmet="true" rel="alternate" href="https://myzenkey.github.io/documenter//documenter/docs/singular-key/FlowAPI" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://myzenkey.github.io/documenter//documenter/docs/singular-key/FlowAPI" hreflang="x-default"><link rel="stylesheet" href="/documenter/assets/css/styles.9e49aaa5.css">
<link rel="preload" href="/documenter/assets/js/runtime~main.e4d0dd18.js" as="script">
<link rel="preload" href="/documenter/assets/js/main.49ce807f.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documenter/"><img src="/documenter/img/ZenKey_symbol_rgb.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/documenter/img/ZenKey_symbol_rgb.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ZenKey Docs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/documenter/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MyZenKey/documenter/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/documenter/docs/intro">Welcome</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Conceptual Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tech Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Android Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Web Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integration Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Portal User Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Additional Topics</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Singular Key</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documenter/docs/singular-key/FlowAPI">Singular Key Flow Integration via API</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/documenter/docs/singular-key/FlowOIDC">FlowOIDC</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Singular Key Flow Integration via API</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>There are several ways to invoke a Singular Key Flow - using OIDC, SAML, Web SDK (Widget), Native Mobile SDK or API.</p><p>This article documents Flow invocation via an API call. We will first create a simple flow in Flow Studio in Singular Key Admin Portal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="terminology"></a>Terminology<a class="hash-link" href="#terminology" title="Direct link to heading">#</a></h2><ul><li><strong>Connector</strong>: A virtual representation of a third party service or a native Singular Key functionality within the Singular Key Orchestration Platform. It exposes a set of <strong>capabilities</strong> that can be used in flows</li><li><strong>Connection</strong>: A configured instance of a <strong>connector</strong></li><li><strong>Flow</strong>: Connections can be connected to each other to create meaningful user journeys or flows</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="creating-a-flow"></a>Creating a Flow<a class="hash-link" href="#creating-a-flow" title="Direct link to heading">#</a></h2><p>We&#x27;ll create a Hello World Flow, which when invoked will send a JSON response back.</p><p>In order to create a flow, you will need access to the Singular Key Admin Portal. At a high level, you need to:</p><ul><li>Register an account in the <a href="https://portal.myzenkey.com/" target="_blank" rel="noopener noreferrer">ZenKey developer portal</a></li><li>Create and configure <strong>connections</strong></li><li>Create a <strong>Flow</strong> in Flow Studio </li><li>Create an <strong>App</strong> and assign a Flow to it.</li></ul><p>We&#x27;ll walk you through the steps to create your first flow (Helloworld)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="step-1-log-into-singular-key-admin-portal"></a>Step 1: Log into Singular Key Admin Portal<a class="hash-link" href="#step-1-log-into-singular-key-admin-portal" title="Direct link to heading">#</a></h3><p>Use the Admin Portal URL that is provided to you during the onboarding-process. Login with the credentials provided to you</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="step-2-create-connections"></a>Step 2: Create Connection(s)<a class="hash-link" href="#step-2-create-connections" title="Direct link to heading">#</a></h3><p>We&#x27;ll create a Http Connection (which has the capability to send a JSON response)</p><ul><li>Http Connection<div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token plain">*  Click on Connections</span></span><span class="token-line" style="color:#212121"><span class="token plain">*  Click on &#x27;New Connection&#x27; button</span></span><span class="token-line" style="color:#212121"><span class="token plain">*  Choose &#x27;Http&#x27; Connectot from the dropdown list</span></span><span class="token-line" style="color:#212121"><span class="token plain">*  Click Create </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div>You should now see a &#x27;Http&#x27; connection in your Connections list</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="step-3-create-flow"></a>Step 3: Create Flow<a class="hash-link" href="#step-3-create-flow" title="Direct link to heading">#</a></h3><ul><li>Click on <strong>Flow Studio</strong></li><li>Click on &#x27;<strong>Create New Flow</strong>&#x27;</li><li>Enter <strong>Name of Flow</strong> and click &#x27;Create&#x27;.<ul><li>A new flow is created and you&#x27;ll be presented with a Flow Canvas</li></ul></li><li>On the <strong>Flow Canvas</strong>, click on the + icon on the bottom left corner to &#x27;<strong>add connection</strong>&#x27;.</li><li>On the Add Connection menu, select the &#x27;Http&#x27; Connection. This will automatically place the Http connection on the Flow Canvas.</li><li>Click on the <strong>Http Connection</strong> that is on the canvas. It&#x27;ll present you with a list of supported capabilities for this connection. </li><li>Choose the &#x27;<strong>Send Success JSON Response</strong>&#x27; capability and click Save.<ul><li>[Optional] In the &#x27;Send Success JSON Response&#x27; capability, you can optionally configure a couple of parameters<ul><li><code>Return Request Parameters?</code>: If you want to the request fields to be sent back in the response, you can leave this option selected.</li><li><code>Additional Fields in the Response</code>: You can add several custom fields to the response. These could be hard coded values or static values or dynamically computed values from the output of any previous node in the flow. </li></ul></li></ul></li><li>Click on the &#x27;Save&#x27; button on the Canvas to <strong>Save and Deploy</strong> the flow</li></ul><p>You have <strong>successfully created your first flow</strong>!
In the future iterations, we will add several nodes before the Http &#x27;Send Success JSON Response&#x27; to send more meaningful responses. The idea is that several nodes can be strung together in many different ways to create a complex set of &#x27;if these then those&#x27; sequences. </p><p>[<code>Real World Flow</code>] For example, a customer IVR could invoke a Singular Key flow when a user makes a call to a customer&#x27;s help desk. The flow request can contain the caller&#x27;s phone number and user&#x27;s CRM data in the customer&#x27;s data. The flow can look up the user&#x27;s phone number against a mobile identity provider to check for Sim-Swap fraud and check user&#x27;s mobile identity trust score by comparing the user&#x27;s information from the input with the information from the carrier&#x27;s database. &#x27;Function&#x27; nodes can then determine whether the user is trust worthy or a step up is needed to verify the user&#x27;s identity. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="optional-define-input-schema"></a>[Optional] Define Input Schema<a class="hash-link" href="#optional-define-input-schema" title="Direct link to heading">#</a></h4><p>In order to send input parameters in the body of the flow invocation REST API call, you will need to define an input schema for the flow. On the flow canvas, click on the three-dot veritcal menu on the top right corner and select <code>Input Schema</code>. You can then define one or more input fields and their data type.</p><p>After defining an input schema, the input parameters is available in any text field by clicking on the parameters <code>{}</code> button and selecting global-&gt;parameters.  Optionally, you can type the following in any input field of any node <code>{{global.parameters.&lt;inputParameterName&gt;}}</code>. Example <code>{{global.parameters.phoneNumber}}</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="step-4-create-app-and-assign-flow-to-app"></a>Step 4: Create App and Assign Flow to App<a class="hash-link" href="#step-4-create-app-and-assign-flow-to-app" title="Direct link to heading">#</a></h3><ul><li>Click on Applications on the left menu</li><li>Click on &#x27;Create New App&#x27; button</li><li>Enter app name (&#x27;Helloworld&#x27;) and click create. You will now see the newly created app in the list</li><li>Select the newly created app. You will be presented a settings dialog box which contains several tabs. <ul><li>Take a note of the &#x27;CompanyId&#x27; and API Key in the General Tab. You will need them to invoke the flow in the later section</li></ul></li><li>Click on the Flows Tab<ul><li>Select the flow from the &#x27;Add Flow&#x27; drop down box</li><li>Click on Apply </li><li>Take note of the FlowId. </li><li></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="invoking-a-flow-via-rest-api-call"></a>Invoking a Flow via REST API Call<a class="hash-link" href="#invoking-a-flow-via-rest-api-call" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="api-endpoint"></a>API Endpoint<a class="hash-link" href="#api-endpoint" title="Direct link to heading">#</a></h3><p>API_ENDPOINT</p><p><strong>Sandbox</strong>: <a href="https://devapi.singularkey.com" target="_blank" rel="noopener noreferrer">https://devapi.singularkey.com</a>
<strong>Production</strong>: <a href="https://api.singularkey.com" target="_blank" rel="noopener noreferrer">https://api.singularkey.com</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="rest-api-call"></a>REST API Call<a class="hash-link" href="#rest-api-call" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token function" style="color:#aa5d00">curl</span><span class="token plain"> POST </span><span class="token string" style="color:#008000">&#x27;API_ENDPOINT/v1/company/:companyId/flows/:flowId/start&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;X-SK-API-KEY: YOUR-API-KEY&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--data-raw </span><span class="token string" style="color:#008000">&#x27;{</span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">  </span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="authentication"></a>Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">#</a></h3><p>REST API calls need to include <strong>x-sk-api-key</strong> parameter in the header of the request. The api key is specific to an &#x27;application&#x27; in the Singular Key Admin Portal. In the portal, click on Applications-&gt; your specific application-&gt; General Tab to find the <strong>Api Key</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="request-parameters"></a>Request Parameters<a class="hash-link" href="#request-parameters" title="Direct link to heading">#</a></h3><ul><li>[Required] <code>companyId</code>: Singular Key Generated Unique Id for your account</li><li>[Required] <code>flowId</code>: Singular Key Generated Unique Id for your flow</li><li>[Required] <code>X-SK-API-KEY</code>: The value of this field in the header is the api key for the Singular Key App associated with the flow</li><li>[Optional]  <code>Body</code>: You may send a JSON formatted body. All the fields in the body are available to any connection in the Flow Canvas as input.
For example, you may send a phone number, which can be used by a connection that supports mobile risk lookup. The output from that <em>mobile risk look up connection</em> can then be linked to the <em>http connector</em> which can provide you the final results in a response</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="responses"></a>Responses<a class="hash-link" href="#responses" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="success-response-fields"></a>Success Response Fields<a class="hash-link" href="#success-response-fields" title="Direct link to heading">#</a></h4><ul><li><code>interactionId</code>: Singular Key Generated Unique transaction Id</li><li><code>companyId</code>: Singular Key Generated Unique Id for your account</li><li><code>flowId</code>: Singular Key Generated Unique Id for your flow</li><li><code>id</code>: Id of the connection node on the canvas</li><li><code>connectionId</code>: Singular Key Generated Unique Id for the connection node that sent this response</li><li><code>connectorId</code>: Id of the connector associated with the connection</li><li><code>capabilityName</code>: Name of the configured capability of the node that sent this response</li><li><code>success</code>: true or false</li><li><code>parameters</code>: input parameters that we sent into the flow</li><li><code>additionalProperties</code>: this object contains any custom fields that is configured in the node</li></ul><p><strong>Note:</strong> It is possible to send a completed customized response without any additional Singular Key related header fields. You will need to use the <code>Send Unwrapped JSON Response</code> capability.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="error-response-fields"></a>Error Response Fields<a class="hash-link" href="#error-response-fields" title="Direct link to heading">#</a></h4><ul><li><code>message</code>: Error Details</li><li><code>errorMessage</code>: Error message</li><li><code>code</code>: Internal Singular Key Error Code</li><li><code>cause</code>: Cause of the issue</li><li><code>logLevel</code>: error, debug, info</li><li><code>serviceName</code>: Name of the service that caused this error</li><li><code>httpResponseCode</code>: http response code</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="example-1"></a>Example 1<a class="hash-link" href="#example-1" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="request"></a>Request<a class="hash-link" href="#request" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token function" style="color:#aa5d00">curl</span><span class="token plain"> --location --request POST </span><span class="token string" style="color:#008000">&#x27;https://devapi.singularkey.com/v1/company/EXAy8y7wmGWNN8V8B9W1a7ZEHTNYlXZQ/flows/w5mXYVnkst5kT1MK5ybLfP4ITpKal7I4/start&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;X-SK-API-KEY: mOMzTb4hDCKYhhLiqeHpiWg5fQyfkpQoWh29UVfJnEHhYe3faWYrQRY6OQt3CIjL2yCgdPP2HjGhTFqvHNOXbv9jy3Gdr0omVhx83vicqYxLLnIS22KzdNJZRPvnqVzYdiaPxmFGU0N0eydeY9m9GKfN7K1GlOOKAuWdxMzXS9NQhzR1KrWuedIrIOk4OK9wYdRHxTqGQFeHfcadOvunP6VsPHTbXCR761o8MunmGWIz4l8gfOHWnoremdkjxAJH&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--data-raw </span><span class="token string" style="color:#008000">&#x27;{</span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">  </span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="response"></a>Response<a class="hash-link" href="#response" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;interactionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;XKi31LoBdgfnQiCWCpuUq9JUTMslXqJ3BBI1aDxU02QaUoYuyhxH0Dm5DUacq2La&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;companyId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;EXAy8y7wmGWNN8V8B9W1a7ZEHTNYlXZU&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;connectionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;867ed4363b2bc21c860085ad2baa817d&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;connectorId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;httpConnector&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;e88a2ba9-bbb6-2feb-94c3-f3b9dfa8c720&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;capabilityName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;createSuccessResponse&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;flowId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;8TnSLAVWrawO4o5WUhRa1pAF0wwFevhR&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;success&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#545454">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;parameters&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;additionalProperties&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="example-2"></a>Example 2<a class="hash-link" href="#example-2" title="Direct link to heading">#</a></h3><p>Lets say you create a flow with the following nodes:</p><p>Mobile Identity Connection (capability:&quot;Get User&#x27;s Trust Score&quot;) -&gt; Http Connection (capability:&quot;Send Success JSON Response&quot;)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="request-1"></a>Request<a class="hash-link" href="#request-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token function" style="color:#aa5d00">curl</span><span class="token plain"> --location --request POST </span><span class="token string" style="color:#008000">&#x27;https://devapi.singularkey.com/v1/company/EXAy8y7wmGWNN8V8B9W1a7ZEHTNYlXZQ/flows/w5mXYVnkst5kT1MK5ybLfP4ITpKal7I4/start&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;X-SK-API-KEY: mOMzTb4hDCKYhhLiqeHpiWg5fQyfkpQoWh29UVfJnEHhYe3faWYrQRY6OQt3CIjL2yCgdPP2HjGhTFqvHNOXbv9jy3Gdr0omVhx83vicqYxLLnIS22KzdNJZRPvnqVzYdiaPxmFGU0N0eydeY9m9GKfN7K1GlOOKAuWdxMzXS9NQhzR1KrWuedIrIOk4OK9wYdRHxTqGQFeHfcadOvunP6VsPHTbXCR761o8MunmGWIz4l8gfOHWnoremdkjxAJH&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--data-raw </span><span class="token string" style="color:#008000">&#x27;{</span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">  &quot;phoneNumber&quot;: &quot;+14089222222&quot;</span></span><span class="token-line" style="color:#212121"><span class="token string" style="color:#008000">}&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="response-1"></a>Response<a class="hash-link" href="#response-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;interactionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;3sdqbp6B2zFxCrdx3s0nVk0ZqNb5MLFLzrOhHMoY9dkw6HHkmWHjxpYOnFrCQZA5&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;companyId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;EXAy8y7wmGWNN8V8B9W1a7ZEHTNYlXZU&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;connectionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;867ed4363b2bc21c860085ad2baa817d&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;connectorId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;httpConnector&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;e88a2ba9-bbb6-2feb-94c3-f3b9dfa8c720&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;capabilityName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;createSuccessResponse&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;flowId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;8TnSLAVWrawO4o5WUhRa1pAF0wwFevhR&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;success&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#545454">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;parameters&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">        </span><span class="token property" style="color:#545454">&quot;phoneNumber&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;+14089222222&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token property" style="color:#545454">&quot;additionalProperties&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">        </span><span class="token property" style="color:#545454">&quot;rawResponse&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;updated_on&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;2020-10-26T23:34:20.084071Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;Transaction successfully completed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;phone_type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;MOBILE&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;numbering&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;original&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;phone_number&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;4089222222&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;complete_phone_number&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;+14089222222&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;country_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;cleansing&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;sms&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;phone_number&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;4089222222&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;min_length&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;cleansed_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;max_length&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;country_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;call&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;phone_number&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;4089222222&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;min_length&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;cleansed_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;max_length&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                        </span><span class="token property" style="color:#545454">&quot;country_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;blocklisting&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;block_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;block_description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;Not blocked&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;blocked&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#545454">false</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;carrier&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;AT&amp;T Wireless&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;reference_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;65D59D0CE090050891C0BB4A3FCAA729&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;external_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token property" style="color:#545454">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;city&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;San Jose&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;zip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;95113&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;country&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;iso3&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;USA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;iso2&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;US&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;United States&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;time_zone&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;utc_offset_min&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;-8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;America/Los_Angeles&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;utc_offset_max&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;-8&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;latitude&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">36.3326</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                    </span><span class="token property" style="color:#545454">&quot;longitude&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">-120.89024</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;metro_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;7400&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;county&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;Santa Clara&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">                </span><span class="token property" style="color:#545454">&quot;state&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;CA&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="example-3"></a>Example 3<a class="hash-link" href="#example-3" title="Direct link to heading">#</a></h3><p>In a scenario where a flow needs some user interaction - the flow becomes asynchronous. The API will respond with a
<code>challenge</code> in <code>additionalProperties</code>. The Relying Party application can then poll for the status of the <code>challenge</code> and make a decision accordingly.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token function" style="color:#aa5d00">curl</span><span class="token plain"> --location --request GET </span><span class="token string" style="color:#008000">&#x27;https://devapi.singularkey.com/v1/company/:companyId/request/:challenge/status&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;X-SK-API-KEY: &lt;YOUR_SK_API_KEY&gt;&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token function" style="color:#aa5d00">curl</span><span class="token plain"> --location --request GET </span><span class="token string" style="color:#008000">&#x27;https://devapi.singularkey.com/v1/company/EXAy8y7wmGWNN8V8B9W1a7ZEHTNYlXZQ/request/LW6PHBjmfzemUToa-wA2_B18PxqhN16YYUx0s7qA9f0/status&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">--header </span><span class="token string" style="color:#008000">&#x27;X-SK-API-KEY: mOMzTb4hDCKYhhLiqeHpiWg5fQyfkpQoWh29UVZRPvnqVzYdiaPxK9wYdRHxTqGQFeHfcadOvunP6VsPHTbXCR761o8MunmGWIz4l8gfOHWnoremdkjxAJH&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Response:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#212121;background-color:#F8F9FA"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#212121"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;approved&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;statusUpdatedDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">1612405456709</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;interactionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#008000">&quot;FF0Em5EbSiEnmyFu1viuZeC2er0ulj6bh7F7sYg3QhqPDII8KWgKVDUzUy4YJCHZ&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;isChallengeComplete&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#545454">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;details&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain">    </span><span class="token string" style="color:#008000">&quot;createdDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#545454">1612405436567</span><span class="token plain"></span></span><span class="token-line" style="color:#212121"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively, the flow can be configured to send a <code>webhook</code> (using Webhook Connection) to the relying party with the status of the challenge.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="sequence-diagram"></a>Sequence Diagram<a class="hash-link" href="#sequence-diagram" title="Direct link to heading">#</a></h2><p>The sequence diagrams below shows the data flow between the various components when a Flow/User Journey is invoked via API. These flows can be simple flows that get results from several other services and returns a customized result or it can be asynchronous flows that send a response back after it has all the results.
An asyncchronous flow can be a flow that has human interaction - like send a secure link via SMS to a user for approval.</p><ul><li><p>Basic Flow
<img alt="Singular Key API Flow 1" src="/documenter/assets/images/SKFlowAPI1-6477909b387ed8ea89c5a16278f672e0.png" title="Singular Key API Flow 1"></p></li><li><p>Relying Party polls for result
<img alt="Singular Key API Flow 2" src="/documenter/assets/images/SKFlowAPI2-282622d2f9855551c3cb5cd06aa5dd36.png" title="Singular Key API Flow 2"></p></li><li><p>Singular Key sends a webhook to the relying party with the results,
<img alt="Singular Key API Flow 3" src="/documenter/assets/images/SKFlowAPI3-ef09b41a7ffe21365f7a8b76993d1810.png" title="Singular Key API Flow 3"></p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MyZenKey/documenter/edit/main/docs/singular-key/FlowAPI.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documenter/docs/additional-topics/managing-carrier-account-migration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« (Coming soon) Managing Carrier Migration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documenter/docs/singular-key/FlowOIDC"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FlowOIDC Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#terminology" class="table-of-contents__link">Terminology</a></li><li><a href="#creating-a-flow" class="table-of-contents__link">Creating a Flow</a><ul><li><a href="#step-1-log-into-singular-key-admin-portal" class="table-of-contents__link">Step 1: Log into Singular Key Admin Portal</a></li><li><a href="#step-2-create-connections" class="table-of-contents__link">Step 2: Create Connection(s)</a></li><li><a href="#step-3-create-flow" class="table-of-contents__link">Step 3: Create Flow</a></li><li><a href="#step-4-create-app-and-assign-flow-to-app" class="table-of-contents__link">Step 4: Create App and Assign Flow to App</a></li></ul></li><li><a href="#invoking-a-flow-via-rest-api-call" class="table-of-contents__link">Invoking a Flow via REST API Call</a><ul><li><a href="#api-endpoint" class="table-of-contents__link">API Endpoint</a></li><li><a href="#rest-api-call" class="table-of-contents__link">REST API Call</a></li><li><a href="#authentication" class="table-of-contents__link">Authentication</a></li><li><a href="#request-parameters" class="table-of-contents__link">Request Parameters</a></li><li><a href="#responses" class="table-of-contents__link">Responses</a></li></ul></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#example-1" class="table-of-contents__link">Example 1</a></li><li><a href="#example-2" class="table-of-contents__link">Example 2</a></li><li><a href="#example-3" class="table-of-contents__link">Example 3</a></li></ul></li><li><a href="#sequence-diagram" class="table-of-contents__link">Sequence Diagram</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/documenter/docs/intro">Welcome</a></li><li class="footer__item"><a class="footer__link-item" href="/documenter/docs/conceptual-overview/definitions-basic-concepts">Basic Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/documenter/docs/tech-overview/authentication-flows">Authentication Flows</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/zenkey" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/myzenkey" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/myzenkey" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/zenkey/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC-0FnMmgpk3bmTy1LoxRE_Q" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/MyZenKey" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 ZenKey.</div></div></div></footer></div>
<script src="/documenter/assets/js/runtime~main.e4d0dd18.js"></script>
<script src="/documenter/assets/js/main.49ce807f.js"></script>
</body>
</html>