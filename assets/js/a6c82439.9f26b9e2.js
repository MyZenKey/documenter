"use strict";(self.webpackChunkdevpub=self.webpackChunkdevpub||[]).push([[1451],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return m}});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),d=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},l=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=d(r),m=n,f=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return r?o.createElement(f,c(c({ref:t},l),{},{components:r})):o.createElement(f,c({ref:t},l))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,c=new Array(i);c[0]=p;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:n,c[1]=a;for(var d=2;d<i;d++)c[d]=r[d];return o.createElement.apply(null,c)}return o.createElement.apply(null,r)}p.displayName="MDXCreateElement"},204:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return a},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return l},default:function(){return p}});var o=r(7462),n=r(3366),i=(r(7294),r(3905)),c=["components"],a={},s="Discovery Flows",d={unversionedId:"additional-topics/discovery-flows",id:"additional-topics/discovery-flows",isDocsHomePage:!1,title:"Discovery Flows",description:"One of ZenKey's core design features makes a subscriber\u2019s carrier the sole party able to authenticate and capture user consent. This means a central component for Service Providers integrating with ZenKey is the routing of requests to the correct carrier. ZenKey implemented two different, but complementary methods to enable a Service Provider to integrate and determine this discovery.",source:"@site/docs/additional-topics/discovery-flows.md",sourceDirName:"additional-topics",slug:"/additional-topics/discovery-flows",permalink:"/documenter/docs/additional-topics/discovery-flows",editUrl:"https://github.com/MyZenKey/documenter/edit/main/docs/additional-topics/discovery-flows.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Consenting to share user information",permalink:"/documenter/docs/additional-topics/consenting-to-share-user-information"},next:{title:"(Coming soon) Managing Carrier Migration",permalink:"/documenter/docs/additional-topics/managing-carrier-account-migration"}},l=[{value:"OpenID MODRNA Discovery Flows",id:"openid-modrna-discovery-flows",children:[]},{value:"Optimized Discovery Flow",id:"optimized-discovery-flow",children:[]}],u={toc:l};function p(e){var t=e.components,r=(0,n.Z)(e,c);return(0,i.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"discovery-flows"},"Discovery Flows"),(0,i.kt)("p",null,"One of ZenKey's core design features makes a subscriber\u2019s carrier the sole party able to authenticate and capture user consent. This means a central component for Service Providers integrating with ZenKey is the routing of requests to the correct carrier. ZenKey implemented two different, but complementary methods to enable a Service Provider to integrate and determine this discovery. "),(0,i.kt)("h2",{id:"openid-modrna-discovery-flows"},"OpenID MODRNA Discovery Flows"),(0,i.kt)("p",null,"The first method is based on OpenID MODRNA discovery flows. This method has two services from ZenKey:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"An API layer that, when given the correct discovery variables, returns the configuration for the correct carrier. "),(0,i.kt)("li",{parentName:"ol"},"An endpoint that is a visual experience for the user. This allows users with the ZenKey application to set up a binding to a secondary device. ")),(0,i.kt)("p",null,"Use an OIDC compliant implementation. Find more information see ",(0,i.kt)("a",{parentName:"p",href:"/documenter/docs/additional-topics/discovery-flows/modrna-based-discovery-flow"},"MODRNA-based discovery flow"),"."),(0,i.kt)("h2",{id:"optimized-discovery-flow"},"Optimized Discovery Flow"),(0,i.kt)("p",null,"The second method leverages a more common OpenID auth request process. In this case, Service Providers redirect the user to ZenKey who redirects them to the correct carrier after discovery is complete. Using this process, Service Providers must contact the ZenKey discovery issuer after the auth code is received so that Service Providers can route their token and UserInfo API calls to the correct carrier endpoints. "),(0,i.kt)("p",null,"Use Optimized Discovery if you want to reuse existing OpenID connect logic and code. For more information see ",(0,i.kt)("a",{parentName:"p",href:"doc:optimized-discovery-flow"},"optimized discovery flow"),"."))}p.isMDXComponent=!0}}]);