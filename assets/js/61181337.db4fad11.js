"use strict";(self.webpackChunkdevpub=self.webpackChunkdevpub||[]).push([[3922],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return d}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),h=u(r),d=o,f=h["".concat(c,".").concat(d)]||h[d]||p[d]||a;return r?n.createElement(f,i(i({ref:t},l),{},{components:r})):n.createElement(f,i({ref:t},l))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},7122:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return l},default:function(){return h}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),i=["components"],s={},c="Authentication flows",u={unversionedId:"tech-overview/authentication-flows",id:"tech-overview/authentication-flows",isDocsHomePage:!1,title:"Authentication flows",description:"Device hardware and cellular carrier networks authenticate users who attempt to access ZenKey Service Provider applications. There are two authentication flows. The primary flow applies to the user's primary mobile device and supports native apps and browser-based websites on the same device as the ZenKey app. Secondary flow applies to other devices that use ZenKey to access a Service Provider app or website.",source:"@site/docs/tech-overview/authentication-flows.md",sourceDirName:"tech-overview",slug:"/tech-overview/authentication-flows",permalink:"/documenter/docs/tech-overview/authentication-flows",editUrl:"https://github.com/MyZenKey/documenter/edit/main/docs/tech-overview/authentication-flows.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Technical overview",permalink:"/documenter/docs/tech-overview/tech-overview"},next:{title:"ZenKey endpoints",permalink:"/documenter/docs/tech-overview/endpoints"}},l=[{value:"Primary Auth Flow",id:"primary-auth-flow",children:[]},{value:"Secondary Auth Flow",id:"secondary-auth-flow",children:[]}],p={toc:l};function h(e){var t=e.components,s=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"authentication-flows"},"Authentication flows"),(0,a.kt)("p",null,"Device hardware and cellular carrier networks authenticate users who attempt to access ZenKey Service Provider applications. There are two authentication flows. The primary flow applies to the user's primary mobile device and supports native apps and browser-based websites on the same device as the ZenKey app. Secondary flow applies to other devices that use ZenKey to access a Service Provider app or website."),(0,a.kt)("h3",{id:"primary-auth-flow"},"Primary Auth Flow"),(0,a.kt)("p",null,"As the following diagram shows, consumers can access your app or website on their primary mobile device."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Primary device flow",src:r(3205).Z})),(0,a.kt)("p",null,"The flow is from a Service Provider's website, to Service Provider backend, to mobile carrier, to ZenKey and back again."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The user's wireless carrier is determined by the SIM card mccmnc \u2014 a six-digit number representing the user\u2019s mobile country code (mcc) and mobile network code (mnc) \u2014 whose value allows for SIM and user authentication. The carrier returns an authorization code via your Redirect URI."),(0,a.kt)("li",{parentName:"ol"},"Your app or website makes an authorization code request to the local ZenKey app."),(0,a.kt)("li",{parentName:"ol"},"If the user consents to share information, your backend server issues a token request for user info and other resources.")),(0,a.kt)("h3",{id:"secondary-auth-flow"},"Secondary Auth Flow"),(0,a.kt)("p",null,"The diagram below shows the user on a secondary device, such as a laptop, attempting to access a website."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Secondary device flow",src:r(2134).Z})),(0,a.kt)("p",null,"In this case, ZenKey requires the user to associate the device with the user's primary mobile device. Then the user can authenticate and gain access to your app or website."),(0,a.kt)("p",null,"As these illustrations show, authentication involves the user\u2019s carrier, your backend service, and the ZenKey platform in the following sequence:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The SDK presents the carrier Discovery UI. If the user authorizes a secondary device from an app on a tablet, the SDK uses a web view for this step. Since secondary device flows are not initiated from the user's primary device, if the user has already trusted their browser they may attempt to log in to your app or website from that trusted browser."),(0,a.kt)("li",{parentName:"ol"},"If the user has not designated the browser as trusted, the user must scan a visual code or enter the numeric code shown on the secondary device into the ZenKey app on their primary device."),(0,a.kt)("li",{parentName:"ol"},"When the user approves the request in the ZenKey app on their primary device, the carrier Discovery UI returns a login_hint_token to your app\u2019s Redirect URI. This login_hint_token is only returned to a secondary device for use during the authentication request."),(0,a.kt)("li",{parentName:"ol"},"To perform SIM and user authentication, your app makes an authorization code request to the appropriate carrier and receives the auth code in its Redirect URI."),(0,a.kt)("li",{parentName:"ol"},"If the user consents to share information, your backend server issues a token request for user info and other resources.")))}h.isMDXComponent=!0},2134:function(e,t,r){t.Z=r.p+"assets/images/a2a7eae-SecondaryDeviceHighLevelFlow-09006ab9ed12f5a73c89fcc3023257cd.jpeg"},3205:function(e,t,r){t.Z=r.p+"assets/images/f18ca67-PrimaryDeviceHighLevelFlow-b0f95e3c0a3f7dfce25543f30908709b.jpeg"}}]);